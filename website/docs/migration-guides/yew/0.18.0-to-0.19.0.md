---
title: "0.18.0 to 0.19.0"
---

`Yew 0.19.0` has changed a lot, thus this migration will not cover ALL of the changes.

Instead only the most impacting changes are mentioned and the rest should be picked up by cargo.

## html! requirement for braces around most props

Put it simply almost all the time you have to provide braces for props:

```rust {4}, ignore
let super_age = 1;
html!{
    <JapaneseYew
        age=super_age // ! Will throw an error
    >
}
```

```rust {4}, ignore
let super_age = 1;
html!{
    <JapaneseYew
        age={super_age} // Correct
    >
}
```

Also now you can use a shorthand if prop and variable names are the same:

```rust {4}, ignore
let age = 1;
html!{
    <JapaneseYew
        {age}
    >
}
```

There is a community provided regex to help with this change, though we cant promise it will work all the time.

find with `=(?![{">=\s])([^\s></]*(\s!{0,1}[=|&]{2}\s[^\s></]*)*)`

replace with `={$1}`

## Function components

[Function components](./../../concepts/function-components) are a brand new way to write components that require less boilerplate than their structural counter part.

While this change does not force you to change your codebase, this migration time is a good opportunity to start using them in your codebase.

## Struct components lifecycle methods and ctx

[Struct components](./../../concepts/components) also received changes to their API.

### ShouldRender removed in favor of bool

`ShouldRender` removed in favor of `bool` and can be just find all - replaced throughout your code base.

### ctx, props, link

Struct components no longer own props and link, instead they receive `ctx: &Context<Self>` argument in lifetime methods that can later give you access to `ctx.props() -> &Properties` and `ctx.link() -> &Scope<Self>`.

You will need to remove `link` and `props` from your component struct fields.

as such all lifetime methods got updated

### Lifetime methods in Component trait

The API looks like this now:

```rust ,ignore
pub trait Component: Sized + 'static {
    type Message: 'static;
    type Properties: Properties;

    fn create(ctx: &Context<Self>) -> Self;

    #[allow(unused_variables)]
    fn update(&mut self, ctx: &Context<Self>, msg: Self::Message) -> bool {
        false
    }

    #[allow(unused_variables)]
    fn changed(&mut self, ctx: &Context<Self>) -> bool {
        true
    }

    fn view(&self, ctx: &Context<Self>) -> Html;

    #[allow(unused_variables)]
    fn rendered(&mut self, ctx: &Context<Self>, first_render: bool) {}

    #[allow(unused_variables)]
    fn destroy(&mut self, ctx: &Context<Self>) {}
}
```

## `web-sys` is no longer re-exported

Add `web-sys` as your project dependency and one by one add the needed features like `Event` or `Window`.

## Services

During this update all services were removed in favor of community driven solutions like [gloo](https://github.com/rustwasm/gloo)

Remove this entirely. `yew-services` adds a layer a abstraction which makes it easier to call external resources. This is all well and good but this layer is supposed to be specific to Yew. It would be better if an framework agnostic abstraction existed instead.

- `ConsoleService`
  Use [gloo-console](https://crates.io/crates/gloo-console) or [`weblog`](https://crates.io/crates/weblog) instead.
- `DialogService`
  Use [`gloo-dialogs`](https://docs.rs/gloo-dialogs/) instead.
- `IntervalService`
  Use [`gloo-timers`](https://docs.rs/gloo-timers/) instead.
- `KeyboardService`
  `on*` event handlers in yew already handle it. Using this service is even more cumbersome because it requires use of `NodeRef` in order to call any functions provided by it.

```rust ,ignore
let callback = Callback::from(|e| {
    e.prevent_default();
    todo!("use `e`, just like in service methods.");
});
html! {
    <input onkeydown=callback />
}
```

- `ResizeService`
  Use [`gloo-events`](https://docs.rs/gloo-events) to attach the listener instead.
- `StorageService`
  Use [`gloo-storage`](https://docs.rs/gloo-storage/) instead.
- `TimeoutService`
  Use [`gloo-timers`](https://docs.rs/gloo-timers/) instead.
- `WebSocketService`
  Use [`wasm-sockets`](https://github.com/scratchyone/wasm-sockets) or [`reqwasm`](https://github.com/hamza1311/reqwasm) instead.
- `FetchService`
  Use [`reqwest`](https://crates.io/crates/reqwest) or [`reqwasm`](https://github.com/hamza1311/reqwasm) instead.

## New crate - yew-agent

Yew agents were removed to their separate crate, see [yew agents migration guide](./../yew-agent/0.0.0-to-0.1.0)

## Ending note

We are sorry if some things are not covered in this guide as it was truly a huge update and we hope that the uncovered issues will be clearly explained by cargo check/build/clippy.
